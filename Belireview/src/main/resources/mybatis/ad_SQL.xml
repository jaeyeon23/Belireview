<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC " - //mybatis.org//DTD Config 3.0//EN" " http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ad">

<insert id="insertAd"  parameterType="hashmap">
insert into AD(	
	AD_NO,
	AD_NAME,
	AD_LINK,
	AD_CONTENT,
	AD_COMPANY,
	AD_READCOUNT,
	AD_POSTER_IMAGE,
	AD_MAIN_IMAGE,
	AD_CONTENT_IMAGE,
	AD_GRADE,
)
values (
	SEQ_AD_NO.NEXTVAL,
	#{AD_NAME},
	#{AD_LINK},
	#{AD_CONTENT},
	#{AD_COMPANY},
	#{AD_READCOUNT},
	#{AD_POSTER_IMAGE},
	#{AD_MAIN_IMAGE},
	#{AD_CONTENT_IMAGE},
	#{AD_GRADE},
)
</insert>

<select id="selectBoardList" resultType="hashmap">
SELECT
	AD_NO,
	AD_NAME,
	AD_LINK,
	AD_CONTENT,
	AD_COMPANY,
	AD_READCOUNT,
	AD_POSTER_IMAGE,
	AD_MAIN_IMAGE,
	AD_CONTENT_IMAGE,
	AD_GRADE,
	RNUM FROM
	(
	SELECT
			AD_NO,
			AD_NAME,
			AD_LINK,
			AD_CONTENT,
			AD_COMPANY,
			AD_READCOUNT,
			AD_POSTER_IMAGE,
			AD_MAIN_IMAGE,
			AD_CONTENT_IMAGE,
			AD_GRADE,
			ROWNUM RNUM FROM 
    (SELECT * FROM AD ORDER BY AD_NO DESC) ORDER BY RNUM ASC) WHERE RNUM BETWEEN 1 AND 5
</select>

<select id="adDetail" parameterType="hashmap" resultType="hashmap">
SELECT
	AD_NO,
	AD_NAME,
	AD_LINK,
	AD_CONTENT,
	AD_COMPANY,
	AD_READCOUNT,
	AD_POSTER_IMAGE,
	AD_MAIN_IMAGE,
	AD_CONTENT_IMAGE,
	AD_GRADE 
FROM 
	AD WHERE AD_NO = #{AD_NO}
</select>

</mapper>