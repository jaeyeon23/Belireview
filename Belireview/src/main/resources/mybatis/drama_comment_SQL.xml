<?xml version="1.0" encoding="UTF-8"?>
<mapper namespace="drama_comment">

<insert>
INSERT INTO DRAMA_COMMENT 
(
  DRAMA_NO,
  DC_NO,
  ID,
  DC_REG_DATE,
  DC_CONTENT,
  DC_LIKE,
  DC_LIKE_ID
)
VALUES
(
  SEQ_DRAMA_COMMENT_NO.NEXTVAL,
  #{DRAMA_NO},
  #{DC_NO},
  #{ID},
  #{DC_REG_DATE},
  #{DC_CONTENT},
  #{DC_LIKE},
  #{DC_LIKE_ID}
);
</insert>

<!-- 댓글 최신순 -->
<select>
SELECT
  DRAMA_NO,
  DC_NO,
  ID,
  DC_REG_DATE,
  DC_CONTENT,
  DC_LIKE,
  DC_LIKE_ID,
  RNUM FROM 
  (SELECT
     DRAMA_NO,
     DC_NO,
     ID,
     DC_REG_DATE,
     DC_CONTENT,
     DC_LIKE,
     DC_LIKE_ID,
     ROWNUM RNUM FROM 
    (SELECT 
      *
      FROM DRAMA_COMMENT ORDER BY DC_REG_DATE DESC) ORDER BY RNUM ASC) WHERE RNUM BETWEEN #{START} AND #{END}
</select>


<!-- 댓글 좋아요 순 -->
<select>
SELECT
  DRAMA_NO,
  DC_NO,
  ID,
  DC_REG_DATE,
  DC_CONTENT,
  DC_LIKE,
  DC_LIKE_ID,
  RNUM FROM 
  (SELECT
     DRAMA_NO,
     DC_NO,
     ID,
     DC_REG_DATE,
     DC_CONTENT,
     DC_LIKE,
     DC_LIKE_ID,
     ROWNUM RNUM FROM 
    (SELECT 
      *
      FROM DRAMA_COMMENT ORDER BY DC_LIKE DESC) ORDER BY RNUM ASC) WHERE RNUM BETWEEN #{START} AND #{END}
</select>


</mapper>
